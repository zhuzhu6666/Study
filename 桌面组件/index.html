<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows风格小组件</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0078D4',
                        secondary: '#0063B1',
                        accent: '#107C10',
                        neutral: '#333333',
                        'neutral-light': '#F3F2F1',
                        'neutral-dark': '#201F1E',
                    },
                    fontFamily: {
                        inter: ['Segoe UI', 'Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .widget-shadow {
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            .calendar-day {
                aspect-ratio: 1/1;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .news-gradient {
                background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%);
            }
            .iframe-container {
                position: relative;
                overflow: hidden;
                width: 100%;
                height: 100%;
            }
            .responsive-iframe {
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
                width: 100%;
                height: 100%;
            }
            .full-height-widget {
                display: flex;
                flex-direction: column;
                height: 100%;
            }
            .tab-button {
                @apply px-4 py-2 text-sm font-medium transition-colors;
            }
            .tab-button.active {
                @apply bg-primary text-white;
            }
            .tab-button:not(.active) {
                @apply bg-gray-100 text-gray-700 hover:bg-gray-200;
            }
        }
    </style>
    <style>
        body {
            overflow: hidden; /* 隐藏浏览器的滚动条 */
        }
    </style>
</head>
<body class="bg-gray-100 font-inter text-neutral">
    <div class="flex flex-col p-4 md:p-8"> <!-- 移除min-h-screen，让内容从顶部开始 -->
        <!-- 合并的小组件 - 靠最上面，右边贴边，下面留出Windows菜单栏大小 -->
        <main class="absolute top-4 right-4 w-1/3 h-[calc(100vh-8rem)]"> <!-- 顶部留出4rem间距，底部留出4rem模拟Windows菜单栏 -->
            <section class="bg-white rounded-lg widget-shadow overflow-hidden transition-all hover:shadow-md full-height-widget">
                <!-- 切换按钮 -->
                <div class="flex border-b">
                    <button id="calendar-tab" class="tab-button active" onclick="switchTab('calendar')">日历</button>
                    <button id="news-tab" class="tab-button" onclick="switchTab('news')">新闻</button>
                </div>
                
                <!-- 日历内容 -->
                <div id="calendar-content" class="iframe-container flex-1">
                    <iframe class="responsive-iframe" frameborder="0" src="https://rili-d.jin10.com/open.php?fontSize=14px&scrolling=yes&theme=primary"></iframe>
                </div>
                
                <!-- 新闻内容 -->
                <div id="news-content" class="iframe-container flex-1 hidden">
                    <iframe class="responsive-iframe" frameborder="0" src="https://www.jin10.com/example/jin10.com.html?fontSize=14px&theme=white"></iframe>
                </div>
            </section>
        </main>
    </div>
    
    <script>
        // 切换标签页
        function switchTab(tabName) {
            // 隐藏所有内容
            document.getElementById('calendar-content').classList.add('hidden');
            document.getElementById('news-content').classList.add('hidden');
            
            // 重置所有按钮样式
            document.getElementById('calendar-tab').classList.remove('active');
            document.getElementById('news-tab').classList.remove('active');
            
            // 显示选中的内容和按钮样式
            document.getElementById(`${tabName}-content`).classList.remove('hidden');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }
        
        // 日期选择交互
        document.querySelectorAll('.calendar-day').forEach(day => {
            day.addEventListener('click', () => {
                // 移除其他日期的选中状态
                document.querySelectorAll('.calendar-day.bg-primary').forEach(selected => {
                    selected.classList.remove('bg-primary', 'text-white', 'rounded-full');
                });
                // 添加选中状态
                day.classList.add('bg-primary', 'text-white', 'rounded-full');
            });
        });
        
        // 监听窗口大小变化，调整iframe内容
        window.addEventListener('resize', adjustIframes);
        
        function adjustIframes() {
            const iframes = document.querySelectorAll('iframe');
            iframes.forEach(iframe => {
                try {
                    // 尝试获取iframe内部文档
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    
                    // 调整iframe内部字体大小
                    if (iframeDoc) {
                        const baseFontSize = Math.max(12, window.innerWidth / 100); // 基础字体大小，根据窗口宽度计算
                        iframeDoc.documentElement.style.fontSize = `${baseFontSize}px`;
                    }
                } catch (e) {
                    console.log('无法访问iframe内容:', e);
                }
            });
        }
        
        // 页面加载时初始化
        window.addEventListener('load', adjustIframes);
    </script>
</body>
</html>
    